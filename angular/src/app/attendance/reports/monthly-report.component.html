<div class="card">
  <div class="card-header">
    <h3>{{ '::MonthlyAttendanceReport' | abpLocalization }}</h3>
  </div>

  <div class="card-body">
    <form [formGroup]="reportForm" (ngSubmit)="generate()" class="mb-4">
      <div class="row g-3">
        <div class="col-md-3">
          <label for="month" class="form-label">{{ '::Month' | abpLocalization }} *</label>
          <select id="month" class="form-control" formControlName="month">
            <option value="1">{{ '::January' | abpLocalization }}</option>
            <option value="2">{{ '::February' | abpLocalization }}</option>
            <option value="3">{{ '::March' | abpLocalization }}</option>
            <option value="4">{{ '::April' | abpLocalization }}</option>
            <option value="5">{{ '::May' | abpLocalization }}</option>
            <option value="6">{{ '::June' | abpLocalization }}</option>
            <option value="7">{{ '::July' | abpLocalization }}</option>
            <option value="8">{{ '::August' | abpLocalization }}</option>
            <option value="9">{{ '::September' | abpLocalization }}</option>
            <option value="10">{{ '::October' | abpLocalization }}</option>
            <option value="11">{{ '::November' | abpLocalization }}</option>
            <option value="12">{{ '::December' | abpLocalization }}</option>
          </select>
        </div>

        <div class="col-md-3">
          <label for="year" class="form-label">{{ '::Year' | abpLocalization }} *</label>
          <input type="number" id="year" class="form-control" formControlName="year" min="2000" />
        </div>

        <div class="col-md-4">
          <label for="employeeName" class="form-label">{{ '::EmployeeName' | abpLocalization }}</label>
          <input type="text" id="employeeName" class="form-control" formControlName="employeeName" />
        </div>

        <div class="col-md-2">
          <label class="form-label">&nbsp;</label>
          <button type="submit" class="btn btn-primary w-100" [disabled]="reportForm.invalid || loading">
            <i class="fa fa-search me-1"></i>
            {{ '::Generate' | abpLocalization }}
          </button>
        </div>
      </div>
    </form>

    <div class="table-responsive" *ngIf="reports.length > 0">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>{{ '::EmployeeCode' | abpLocalization }}</th>
            <th>{{ '::EmployeeName' | abpLocalization }}</th>
            <th>{{ '::Location' | abpLocalization }}</th>
            <th>{{ '::TotalDays' | abpLocalization }}</th>
            <th>{{ '::FullDays' | abpLocalization }}</th>
            <th>{{ '::PartialDays' | abpLocalization }}</th>
            <th>{{ '::AbsentDays' | abpLocalization }}</th>
            <th>{{ '::TotalHours' | abpLocalization }}</th>
            <th>{{ '::OvertimeHours' | abpLocalization }}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let report of reports">
            <td>{{ report.employeeCode }}</td>
            <td>{{ report.employeeName }}</td>
            <td>{{ report.locationName }}</td>
            <td>{{ report.totalWorkingDays }}</td>
            <td>{{ report.fullWorkingDays }}</td>
            <td>{{ report.partialWorkingDays }}</td>
            <td>{{ report.absentDays }}</td>
            <td>{{ report.totalHours.toFixed(2) }}</td>
            <td>{{ report.totalOvertimeHours.toFixed(2) }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div *ngIf="reports.length === 0 && !loading" class="alert alert-info">
      {{ '::GenerateReportToSeeResults' | abpLocalization }}
    </div>
  </div>
</div>
